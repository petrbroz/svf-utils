<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>svf-utils</title><meta name="description" content="Documentation for svf-utils"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">svf-utils</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>svf-utils</h1></div><div class="tsd-panel tsd-typography"><h1 id="svf-utils" class="tsd-anchor-link">svf-utils<a href="#svf-utils" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><img src="https://github.com/petrbroz/svf-utils/workflows/Publish%20to%20NPM/badge.svg" alt="Publish to NPM">
<a href="https://badge.fury.io/js/svf-utils"><img src="https://badge.fury.io/js/svf-utils.svg" alt="npm version"></a>
<img src="https://img.shields.io/node/v/svf-utils.svg" alt="node">
<img src="https://img.shields.io/npm/dw/svf-utils.svg" alt="npm downloads">
<img src="https://img.shields.io/badge/platform-windows%20%7C%20osx%20%7C%20linux-lightgray.svg" alt="platforms">
<a href="http://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="license"></a></p>
<p><img src="media/logo.png" alt="APS &amp; glTF logos"></p>
<p><em>Experimental</em> utilities for working with <a href="https://aps.autodesk.com">Autodesk Platform Services</a> SVF/SVF2 file formats.</p>
<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="command-line" class="tsd-anchor-link">Command line<a href="#command-line" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install the package globally (<code>npm install --global svf-utils</code>), and use one of the commands listed below.</p>
<h4 id="svf" class="tsd-anchor-link">SVF<a href="#svf" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>run the <code>svf-to-gltf</code> command without parameters for usage info</li>
<li>run the command with a path to a local SVF file</li>
<li>run the command with a Model Derivative URN (and optionally viewable GUID)
<ul>
<li>to access APS you must also specify credentials (<code>APS_CLIENT_ID</code> and <code>APS_CLIENT_SECRET</code>)
or an authentication token (<code>APS_ACCESS_TOKEN</code>) as env. variables</li>
<li>this will also download the property database in sqlite format</li>
</ul>
</li>
<li>optionally, use any combination of the following command line args:
<ul>
<li><code>--output-folder &lt;folder&gt;</code> to change output folder (by default '.')</li>
<li><code>--deduplicate</code> to try and remove duplicate geometries</li>
<li><code>--skip-unused-uvs</code> to skip texture UVs that are not used by any material</li>
<li><code>--ignore-meshes</code> to exclude mesh geometry from the output</li>
<li><code>--ignore-lines</code> to exclude line geometry from the output</li>
<li><code>--ignore-points</code> to exclude point geometry from the output</li>
<li><code>--center</code> move the model to origin</li>
</ul>
</li>
</ul>
<p>On Unix/macOS:</p>
<pre><code><span class="hl-0">svf</span><span class="hl-1">-</span><span class="hl-0">to</span><span class="hl-1">-</span><span class="hl-0">gltf</span><span class="hl-1"> &lt;</span><span class="hl-0">path</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">local</span><span class="hl-1"> </span><span class="hl-0">svf</span><span class="hl-1">&gt; --</span><span class="hl-0">output</span><span class="hl-1">-</span><span class="hl-0">folder</span><span class="hl-1"> &lt;</span><span class="hl-0">path</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">output</span><span class="hl-1"> </span><span class="hl-0">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>or</p>
<pre><code><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-3">APS_CLIENT_ID</span><span class="hl-1">=&lt;</span><span class="hl-4">client</span><span class="hl-1"> </span><span class="hl-4">id</span><span class="hl-1">&gt;</span><br/><span class="hl-1">export APS_CLIENT_SECRET=&lt;</span><span class="hl-4">client</span><span class="hl-1"> </span><span class="hl-4">secret</span><span class="hl-1">&gt;</span><br/><span class="hl-1">svf-to-gltf &lt;</span><span class="hl-4">urn</span><span class="hl-1">&gt; --output-folder &lt;</span><span class="hl-4">path</span><span class="hl-1"> </span><span class="hl-4">to</span><span class="hl-1"> </span><span class="hl-4">output</span><span class="hl-1"> </span><span class="hl-4">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>or</p>
<pre><code><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-3">APS_ACCESS_TOKEN</span><span class="hl-1">=&lt;</span><span class="hl-4">access</span><span class="hl-1"> </span><span class="hl-4">token</span><span class="hl-1">&gt;</span><br/><span class="hl-1">svf-to-gltf &lt;</span><span class="hl-4">urn</span><span class="hl-1">&gt; --output-folder &lt;</span><span class="hl-4">path</span><span class="hl-1"> </span><span class="hl-4">to</span><span class="hl-1"> </span><span class="hl-4">output</span><span class="hl-1"> </span><span class="hl-4">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>On Windows:</p>
<pre><code><span class="hl-0">svf</span><span class="hl-1">-</span><span class="hl-0">to</span><span class="hl-1">-</span><span class="hl-0">gltf</span><span class="hl-1"> &lt;</span><span class="hl-0">path</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">local</span><span class="hl-1"> </span><span class="hl-0">svf</span><span class="hl-1">&gt; --</span><span class="hl-0">output</span><span class="hl-1">-</span><span class="hl-0">folder</span><span class="hl-1"> &lt;</span><span class="hl-0">path</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">output</span><span class="hl-1"> </span><span class="hl-0">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>or</p>
<pre><code><span class="hl-0">set</span><span class="hl-1"> </span><span class="hl-3">APS_CLIENT_ID</span><span class="hl-1">=&lt;</span><span class="hl-4">client</span><span class="hl-1"> </span><span class="hl-4">id</span><span class="hl-1">&gt;</span><br/><span class="hl-1">set APS_CLIENT_SECRET=&lt;</span><span class="hl-4">client</span><span class="hl-1"> </span><span class="hl-4">secret</span><span class="hl-1">&gt;</span><br/><span class="hl-1">svf-to-gltf &lt;</span><span class="hl-4">urn</span><span class="hl-1">&gt; --output-folder &lt;</span><span class="hl-4">path</span><span class="hl-1"> </span><span class="hl-4">to</span><span class="hl-1"> </span><span class="hl-4">output</span><span class="hl-1"> </span><span class="hl-4">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>or</p>
<pre><code><span class="hl-0">set</span><span class="hl-1"> </span><span class="hl-3">APS_ACCESS_TOKEN</span><span class="hl-1">=&lt;</span><span class="hl-4">access</span><span class="hl-1"> </span><span class="hl-4">token</span><span class="hl-1">&gt;</span><br/><span class="hl-1">svf-to-gltf &lt;</span><span class="hl-4">urn</span><span class="hl-1">&gt; --output-folder &lt;</span><span class="hl-4">path</span><span class="hl-1"> </span><span class="hl-4">to</span><span class="hl-1"> </span><span class="hl-4">output</span><span class="hl-1"> </span><span class="hl-4">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<h4 id="svf2" class="tsd-anchor-link">SVF2<a href="#svf2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>run the <code>svf2-to-gltf</code> command without parameters for usage info</li>
<li>run the command with a Model Derivative URN
<ul>
<li>to access APS you must also specify credentials (<code>APS_CLIENT_ID</code> and <code>APS_CLIENT_SECRET</code>)
or an authentication token (<code>APS_ACCESS_TOKEN</code>) as env. variables</li>
</ul>
</li>
<li>the command also accepts the following options:
<ul>
<li><code>--center</code> move the model to origin</li>
</ul>
</li>
</ul>
<p>On Unix/macOS:</p>
<pre><code><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-3">APS_CLIENT_ID</span><span class="hl-1">=&lt;</span><span class="hl-4">client</span><span class="hl-1"> </span><span class="hl-4">id</span><span class="hl-1">&gt;</span><br/><span class="hl-1">export APS_CLIENT_SECRET=&lt;</span><span class="hl-4">client</span><span class="hl-1"> </span><span class="hl-4">secret</span><span class="hl-1">&gt;</span><br/><span class="hl-1">svf2-to-gltf &lt;</span><span class="hl-4">urn</span><span class="hl-1">&gt; &lt;</span><span class="hl-4">path</span><span class="hl-1">/</span><span class="hl-4">to</span><span class="hl-1">/</span><span class="hl-4">output</span><span class="hl-1">/</span><span class="hl-4">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>or</p>
<pre><code><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-3">APS_ACCESS_TOKEN</span><span class="hl-1">=&lt;</span><span class="hl-4">access</span><span class="hl-1"> </span><span class="hl-4">token</span><span class="hl-1">&gt;</span><br/><span class="hl-1">svf2-to-gltf &lt;</span><span class="hl-4">urn</span><span class="hl-1">&gt; &lt;</span><span class="hl-4">path</span><span class="hl-1">/</span><span class="hl-4">to</span><span class="hl-1">/</span><span class="hl-4">output</span><span class="hl-1">/</span><span class="hl-4">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>On Windows:</p>
<pre><code><span class="hl-0">set</span><span class="hl-1"> </span><span class="hl-3">APS_CLIENT_ID</span><span class="hl-1">=&lt;</span><span class="hl-4">client</span><span class="hl-1"> </span><span class="hl-4">id</span><span class="hl-1">&gt;</span><br/><span class="hl-1">set APS_CLIENT_SECRET=&lt;</span><span class="hl-4">client</span><span class="hl-1"> </span><span class="hl-4">secret</span><span class="hl-1">&gt;</span><br/><span class="hl-1">svf2-to-gltf &lt;</span><span class="hl-4">urn</span><span class="hl-1">&gt; &lt;</span><span class="hl-4">path</span><span class="hl-1">\</span><span class="hl-4">to</span><span class="hl-1">\</span><span class="hl-4">output</span><span class="hl-1">\</span><span class="hl-4">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>or</p>
<pre><code><span class="hl-0">set</span><span class="hl-1"> </span><span class="hl-3">APS_ACCESS_TOKEN</span><span class="hl-1">=&lt;</span><span class="hl-4">access</span><span class="hl-1"> </span><span class="hl-4">token</span><span class="hl-1">&gt;</span><br/><span class="hl-1">svf2-to-gltf &lt;</span><span class="hl-4">urn</span><span class="hl-1">&gt; &lt;</span><span class="hl-4">path</span><span class="hl-1">\</span><span class="hl-4">to</span><span class="hl-1">\</span><span class="hl-4">output</span><span class="hl-1">\</span><span class="hl-4">folder</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<h3 id="nodejs" class="tsd-anchor-link">Node.js<a href="#nodejs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The library can be used at different levels of granularity.</p>
<p>The easiest way to convert an SVF file is to read the entire model into memory using <code>SvfReader#read</code>/<code>SVF2Reader#read</code> methods, and save the model into glTF using <code>GltfWriter#write</code>. See <a href="media/remote-svf-to-gltf.js">samples/remote-svf-to-gltf.js</a> and <a href="media/remote-svf2-to-gltf.js">samples/remote-svf2-to-gltf.js</a>.</p>
<p>If you don't want to read the entire model into memory (for example, when distributing the parsing of an SVF over multiple servers), you can use methods like <code>SvfReader#enumerateFragments</code>/<code>SVF2Reader#enumerateFragments</code> or <code>SvfReader#enumerateGeometries</code>/<code>SVF2Reader#enumerateGeometries</code> to <em>asynchronously</em> iterate over individual elements:</p>
<pre><code class="js"><span class="hl-2">const</span><span class="hl-1"> { </span><span class="hl-3">SvfReader</span><span class="hl-1"> } = </span><span class="hl-5">require</span><span class="hl-1">(</span><span class="hl-6">&#39;svf-utils&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// ...</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">reader</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">SvfReader</span><span class="hl-1">.</span><span class="hl-5">FromDerivativeService</span><span class="hl-1">(</span><span class="hl-0">urn</span><span class="hl-1">, </span><span class="hl-0">guid</span><span class="hl-1">, </span><span class="hl-0">authProvider</span><span class="hl-1">);</span><br/><span class="hl-8">for</span><span class="hl-1"> </span><span class="hl-8">await</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">fragment</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-0">reader</span><span class="hl-1">.</span><span class="hl-5">enumerateFragments</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-0">fragment</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>And finally, if you already have the individual SVF/SVF2 assets in memory, you can parse the binary data directly using <em>synchronous</em> iterators like <code>parseMeshes</code>:</p>
<pre><code class="js"><span class="hl-2">const</span><span class="hl-1"> { </span><span class="hl-3">parseMeshes</span><span class="hl-1"> } = </span><span class="hl-5">require</span><span class="hl-1">(</span><span class="hl-6">&#39;svf-utils/lib/svf/meshes&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// ...</span><br/><br/><span class="hl-8">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">mesh</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-5">parseMeshes</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-0">mesh</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>For additional examples, see the <a href="./samples">samples</a> subfolder.</p>
</blockquote>
<h3 id="customization" class="tsd-anchor-link">Customization<a href="#customization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can customize the translation by sub-classing the reader and/or the writer class. For example:</p>
<ul>
<li><a href="media/custom-gltf-attribute.js">samples/custom-gltf-attribute.js</a> adds the dbID of each SVF node as a new attribute in its mesh</li>
<li><a href="media/filter-by-area.js">samples/filter-by-area.js</a> only outputs geometries that are completely contained within a specified area</li>
</ul>
<h3 id="metadata" class="tsd-anchor-link">Metadata<a href="#metadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When converting models from <a href="https://aps.autodesk.com/en/docs/model-derivative/v2">Model Derivative service</a>, you can retrieve the model properties and metadata in form of a sqlite database. The command line tool downloads this database automatically as <em>properties.sqlite</em> file directly in your output folder. If you're using this library in your own Node.js code, you can find the database in the manifest by looking for an asset with type &quot;resource&quot;, and role &quot;Autodesk.CloudPlatform.PropertyDatabase&quot;:</p>
<pre><code class="js"><span class="hl-1">    ...</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">pdbDerivatives</span><span class="hl-1"> = </span><span class="hl-0">manifestHelper</span><span class="hl-1">.</span><span class="hl-5">search</span><span class="hl-1">({ </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;resource&#39;</span><span class="hl-1">, </span><span class="hl-0">role:</span><span class="hl-1"> </span><span class="hl-6">&#39;Autodesk.CloudPlatform.PropertyDatabase&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><span class="hl-8">if</span><span class="hl-1"> (</span><span class="hl-0">pdbDerivatives</span><span class="hl-1">.</span><span class="hl-0">length</span><span class="hl-1"> &gt; </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">databaseStream</span><span class="hl-1"> = </span><span class="hl-0">modelDerivativeClient</span><span class="hl-1">.</span><span class="hl-5">getDerivativeChunked</span><span class="hl-1">(</span><span class="hl-0">urn</span><span class="hl-1">, </span><span class="hl-0">pdbDerivatives</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-0">urn</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1"> &lt;&lt; </span><span class="hl-9">20</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">databaseStream</span><span class="hl-1">.</span><span class="hl-5">pipe</span><span class="hl-1">(</span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-5">createWriteStream</span><span class="hl-1">(</span><span class="hl-6">&#39;./properties.sdb&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ...</span>
</code><button type="button">Copy</button></pre>

<p>The structure of the sqlite database, and the way to extract model properties from it is explained in <a href="https://github.com/wallabyway/propertyServer/blob/master/pipeline.md">https://github.com/wallabyway/propertyServer/blob/master/pipeline.md</a>. Here's a simple diagram showing the individual tables in the database, and the relationships between them:</p>
<p><img src="https://user-images.githubusercontent.com/440241/42006177-35a1070e-7a2d-11e8-8c9e-48a0afeea00f.png" alt="Property Database Diagram"></p>
<p>And here's an example query listing all objects with &quot;Material&quot; property containing the &quot;Concrete&quot; word:</p>
<pre><code class="sql">SELECT _objects_id.id AS dbId, _objects_id.external_id AS externalId, _objects_attr.name AS propName, _objects_val.value AS propValue
FROM _objects_eav
    INNER JOIN _objects_id ON _objects_eav.entity_id = _objects_id.id
    INNER JOIN _objects_attr ON _objects_eav.attribute_id = _objects_attr.id
    INNER JOIN _objects_val ON _objects_eav.value_id = _objects_val.id
WHERE propName = "Material" AND propValue LIKE "%Concrete%"
</code><button type="button">Copy</button></pre>

<h3 id="glb-draco-and-other-post-processing" class="tsd-anchor-link">GLB, Draco, and other post-processing<a href="#glb-draco-and-other-post-processing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Following the Unix philosophy, we removed post-processing dependencies from this project, and instead leave it to developers to &quot;pipe&quot; the output of this library to other tools such as <a href="https://github.com/CesiumGS/gltf-pipeline">https://github.com/CesiumGS/gltf-pipeline</a> or <a href="https://github.com/zeux/meshoptimizer">https://github.com/zeux/meshoptimizer</a>. See <a href="media/local-svf-to-gltf.sh">./samples/local-svf-to-gltf.sh</a> or
<a href="media/remote-svf-to-gltf.sh">./samples/remote-svf-to-gltf.sh</a> for examples.</p>
<h2 id="development" class="tsd-anchor-link">Development<a href="#development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>clone the repository</li>
<li>install dependencies: <code>yarn install</code></li>
<li>build the library (transpile TypeScript): <code>yarn run build</code></li>
<li>run samples in the <em>test</em> subfolder, for example: <code>APS_CLIENT_ID=&lt;your client id&gt; APS_CLIENT_SECRET=&lt;your client secret&gt; node test/remote-svf-to-gltf.js &lt;model urn&gt; &lt;path to output folder&gt;</code></li>
</ul>
<p>If you're using <a href="https://code.visualstudio.com">Visual Studio Code</a>, you can use the following &quot;task&quot; and &quot;launch&quot; configurations:</p>
<p>In <em>.vscode/tasks.json</em>:</p>
<pre><code class="json"><span class="hl-1">...</span><br/><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;label&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;build&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;npm&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;script&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;build&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;problemMatcher&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;$tsc&quot;</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;group&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;build&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;presentation&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-10">&quot;echo&quot;</span><span class="hl-1">: </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">&quot;reveal&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;silent&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">&quot;focus&quot;</span><span class="hl-1">: </span><span class="hl-2">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">&quot;panel&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;shared&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">&quot;showReuseMessage&quot;</span><span class="hl-1">: </span><span class="hl-2">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">&quot;clear&quot;</span><span class="hl-1">: </span><span class="hl-2">false</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><span class="hl-1">...</span>
</code><button type="button">Copy</button></pre>

<p>In <em>.vscode/launch.json</em>:</p>
<pre><code class="json"><span class="hl-1">...</span><br/><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;node&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;request&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;launch&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;Convert Model Derivative SVF to glTF&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;program&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;${workspaceFolder}/test/remote-svf-to-gltf.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;args&quot;</span><span class="hl-1">: [</span><span class="hl-6">&quot;&lt;your model urn&gt;&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;&lt;path to output folder&gt;&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;env&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-10">&quot;APS_CLIENT_ID&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;&lt;your client id&gt;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-10">&quot;APS_CLIENT_SECRET&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;&lt;your client secret&gt;&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;preLaunchTask&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;build&quot;</span><br/><span class="hl-1">},</span><br/><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;node&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;request&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;launch&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;Convert Local SVF to glTF&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;program&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;${workspaceFolder}/test/local-svf-to-gltf.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;args&quot;</span><span class="hl-1">: [</span><span class="hl-6">&quot;&lt;path to svf file&gt;&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;&lt;path to output folder&gt;&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;preLaunchTask&quot;</span><span class="hl-1">: </span><span class="hl-6">&quot;build&quot;</span><br/><span class="hl-1">}</span><br/><span class="hl-1">...</span>
</code><button type="button">Copy</button></pre>

<h3 id="intermediate-format" class="tsd-anchor-link">Intermediate Format<a href="#intermediate-format" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The project provides a collection of interfaces for an <a href="media/intermediate-format.ts">intermediate 3D format</a> that is meant to be used by all loaders and writers. When implementing a new loader, make sure that its output implements the intermediate format's <code>IScene</code> interface. Similarly, this interface should also be expected as the input to all new writers.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#svf-utils"><span>svf-<wbr/>utils</span></a><ul><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#command-line"><span>Command line</span></a></li><li><ul><li><a href="#svf"><span>SVF</span></a></li><li><a href="#svf2"><span>SVF2</span></a></li></ul></li><li><a href="#nodejs"><span>Node.js</span></a></li><li><a href="#customization"><span>Customization</span></a></li><li><a href="#metadata"><span>Metadata</span></a></li><li><a href="#glb-draco-and-other-post-processing"><span>GLB, <wbr/>Draco, and other post-<wbr/>processing</span></a></li></ul></li><li><a href="#development"><span>Development</span></a></li><li><ul><li><a href="#intermediate-format"><span>Intermediate <wbr/>Format</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">svf-utils</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
